<div class="mobile-settings-section" [ngStyle]="layoutService.layoutStyle">
    <div class="mobile-settings-section">
        <h2 class="mobile-settings-section_title">{{'Settings.Change-password-title' | translate}}</h2>
        <div class="underline"></div>
        <div class="tab-content-mobile">
            <form class="m-change-password_form" [formGroup]="formGroup" novalidate (ngSubmit)="saveResetPassword()"
                  autocomplete="off">
                <div class="form_row">
                    <div class="form_field m-change-password-btn">
                        <button class="craft_btn setting_btn cancel_btn" type="button" (click)="resetState()"
                                [disabled]="!(formGroup.get('OldPassword').value || formGroup.get('NewPassword').value || formGroup.get('ConfirmPassword').value)">
                            <span class="icon-close-modal"></span>
                            <span>{{'Settings.Cancel-changes' | translate}}</span>
                        </button>
                        <button class="craft_btn setting_btn" type="submit" (click)="saveResetPassword()"
                                [disabled]="!(formGroup.get('OldPassword').value || formGroup.get('NewPassword').value || formGroup.get('ConfirmPassword').value)">
                            <fa-icon [icon]="['fas', 'save']" class="fas-save"></fa-icon>
                            <span>{{'Settings.Save-Changes' | translate}}</span>
                        </button>
                    </div>
                </div>
                <div class="form_row">

                    <div class="form_field">
                        <input class="setting-input" type="{{passwordType['old'] ? 'text' : 'password'}}"
                               placeholder="{{'Settings.Old-password-placeholder' | translate}}"
                               formControlName="OldPassword"
                               [ngClass]="{'invalid-filed': ((formGroup.get('OldPassword').hasError('required')  || formGroup.get('OldPassword').hasError('minlength') || formGroup.get('OldPassword').hasError('maxlength')) && formGroup.get('OldPassword').touched)}"/>
                        <label>{{'Settings.Old-password' | translate}}</label>
                        <div (click)="passwordType['old'] = !passwordType['old']"
                             class="change-password-field-type m-change-password-field-type2">
                            <span [ngClass]="passwordType['old'] ? 'icon-eye-password' : 'icon-eye-password-close'"></span>
                        </div>
                    </div>
                    <div class="error_message"
                         *ngIf="formGroup.get('OldPassword').hasError('required') && !formGroup.get('OldPassword').hasError('OldPassword') && !formGroup.get('OldPassword').hasError('maxlength') && formGroup.get('OldPassword').touched">
                        <span>{{ 'Error.Required-field' | translate }}</span>
                    </div>
                    <div class="mobile-comment error_message"
                         *ngIf="formGroup.get('OldPassword').touched && formGroup.get('OldPassword').hasError('pattern')">
                        {{'Error.Password_Validation' | translate}}
                    </div>
                </div>

                <div class="form_row">
                    <div class="form_field">
                        <input type="{{passwordType['new'] ? 'text' : 'password'}}" class="setting-input"
                               placeholder="{{'Settings.New-password-placeholder' | translate}}"
                               formControlName="NewPassword"
                               [ngClass]="{'invalid-filed': ((formGroup.get('NewPassword').hasError('required')  || formGroup.get('NewPassword').hasError('minlength') || formGroup.get('NewPassword').hasError('maxlength')) && formGroup.get('NewPassword').touched)}"/>
                        <label>{{'Settings.New-password' | translate}}</label>
                        <div (click)="passwordType['new'] = !passwordType['new']"
                             class="change-password-field-type m-change-password-field-type2">
                            <span [ngClass]="passwordType['new'] ? 'icon-eye-password' : 'icon-eye-password-close'"></span>
                        </div>
                    </div>
                    <div class="error_message"
                         *ngIf="formGroup.get('NewPassword').hasError('required') && !formGroup.get('NewPassword').hasError('NewPassword') && !formGroup.get('NewPassword').hasError('maxlength') && formGroup.get('NewPassword').touched">
                        <span>{{ 'Error.Required-field' | translate }}</span>
                    </div>

                    <div class="mobile-comment error_message"
                         *ngIf="formGroup.get('NewPassword').touched && formGroup.get('NewPassword').hasError('pattern')">
                        {{'Error.PasswordValidation' | translate}}
                    </div>
                </div>


                <div class="form_row">
                    <div class="form_field">
                        <input class="setting-input" type="{{passwordType['confirm'] ? 'text' : 'password'}}"
                               [placeholder]="'Settings.Confirm-password-placeholder' | translate"
                               formControlName="ConfirmPassword"
                               [ngClass]="{'invalid-filed': ((formGroup.get('ConfirmPassword').hasError('required')  || formGroup.get('ConfirmPassword').hasError('minlength') || formGroup.get('ConfirmPassword').hasError('maxlength')) && formGroup.get('ConfirmPassword').touched)}"/>
                        <label>{{'Settings.Confirm-password' | translate}}</label>
                        <div (click)="passwordType['confirm'] = !passwordType['confirm']"
                             class="change-password-field-type m-change-password-field-type2">
                            <span [ngClass]="passwordType['confirm'] ? 'icon-eye-password' : 'icon-eye-password-close'"></span>
                        </div>
                    </div>
                    <div class="error_message"
                         *ngIf="formGroup.get('ConfirmPassword').hasError('required') && formGroup.get('ConfirmPassword').touched">
                        <span>{{ 'Error.Required-field' | translate }}</span>
                    </div>
                    <div class="error_message"
                         *ngIf="formGroup.get('ConfirmPassword').hasError('matchTo') && formGroup.get('ConfirmPassword').dirty && !formGroup.get('ConfirmPassword').hasError('required')">
                        <span>{{ 'Error.PasswordMatchTo' | translate }}</span>
                    </div>
                </div>

                <div class="form_row">
                    <!--                    <div class="form_field">-->
                    <!--                        <button type="submit"-->
                    <!--                                class="craft_btn change-btn setting_btn">{{'Settings.Change-password' | translate}}</button>-->
                    <!--                    </div>-->
                    <div class="{{changePasswordMessage?.className}}">{{changePasswordMessage?.message}}</div>
                </div>
            </form>
        </div>
    </div>
</div>